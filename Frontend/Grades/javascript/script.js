function fetchCardsData() {
  return [
    {
      "title": 'POM 446- Process Management',
      "professor": 'Brian Plummer; MBA, BSEE',
      "mode": 'In-Person',
      "grade": "N",
      "time": 'Mon & Wed 2:00 - 3:15',
      "gradingPolicy": {
        "Test 1": '20%',
        "Test 2": '20%',
        "Test 3": '20%',
        "Project": '20%',
        "Attendance": '20%',
      },
      "assignments": [
        {
          "assignmentName": "Introduction, Housekeeping items, Course Overview",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/7"
        },
        {
          "assignmentName": "The Operations Function, No Class 9/6, Labor Day",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/12"
        },
        {
          "assignmentName": "Operations & Supply Chain Strategy",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/19"
        },
        {
          "assignmentName": "Product Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/26"
        },
        {
          "assignmentName": "Test # 1 Ch’s 1, 2, 3",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/3"
        },
        {
          "assignmentName": "Process Selection",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/11"
        },
        {
          "assignmentName": "Service Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/17"
        },
        {
          "assignmentName": "Process Flow Analysis",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/24"
        },
        {
          "assignmentName": "Test #2 Ch’s 4, 5, 6",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/31"
        },
        {
          "assignmentName": "Lean Thinking",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/7"
        },
        {
          "assignmentName": "Managing Quality",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/14"
        },
        {
          "assignmentName": "Quality Control and Improvement",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/21"
        },
        {
          "assignmentName": "Project Prep",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/28"
        },
        {
          "assignmentName": "Project Presentations",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/5"
        },
        {
          "assignmentName": "Final Exam Ch’s 7, 8, 9",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/9"
        }
      ]
    },

    {
      "title": 'POM 446- Process Management',
      "professor": 'Brian Plummer; MBA, BSEE',
      "mode": 'In-Person',
      "grade": "N",
      "time": 'Mon & Wed 2:00 - 3:15',
      "gradingPolicy": {
        "Test 1": '20%',
        "Test 2": '20%',
        "Test 3": '20%',
        "Project": '20%',
        "Attendance": '20%',
      },
      "assignments": [
        {
          "assignmentName": "Introduction, Housekeeping items, Course Overview",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/7"
        },
        {
          "assignmentName": "The Operations Function, No Class 9/6, Labor Day",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/12"
        },
        {
          "assignmentName": "Operations & Supply Chain Strategy",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/19"
        },
        {
          "assignmentName": "Product Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/26"
        },
        {
          "assignmentName": "Test # 1 Ch’s 1, 2, 3",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/3"
        },
        {
          "assignmentName": "Process Selection",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/11"
        },
        {
          "assignmentName": "Service Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/17"
        },
        {
          "assignmentName": "Process Flow Analysis",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/24"
        },
        {
          "assignmentName": "Test #2 Ch’s 4, 5, 6",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/31"
        },
        {
          "assignmentName": "Lean Thinking",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/7"
        },
        {
          "assignmentName": "Managing Quality",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/14"
        },
        {
          "assignmentName": "Quality Control and Improvement",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/21"
        },
        {
          "assignmentName": "Project Prep",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/28"
        },
        {
          "assignmentName": "Project Presentations",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/5"
        },
        {
          "assignmentName": "Final Exam Ch’s 7, 8, 9",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/9"
        }
      ]
    },
    {
      "title": 'POM 446- Process Management',
      "professor": 'Brian Plummer; MBA, BSEE',
      "mode": 'In-Person',
      "grade": "N",
      "time": 'Mon & Wed 2:00 - 3:15',
      "gradingPolicy": {
        "Test 1": '20%',
        "Test 2": '20%',
        "Test 3": '20%',
        "Project": '20%',
        "Attendance": '20%',
      },
      "assignments": [
        {
          "assignmentName": "Introduction, Housekeeping items, Course Overview",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/7"
        },
        {
          "assignmentName": "The Operations Function, No Class 9/6, Labor Day",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/12"
        },
        {
          "assignmentName": "Operations & Supply Chain Strategy",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/19"
        },
        {
          "assignmentName": "Product Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/26"
        },
        {
          "assignmentName": "Test # 1 Ch’s 1, 2, 3",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/3"
        },
        {
          "assignmentName": "Process Selection",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/11"
        },
        {
          "assignmentName": "Service Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/17"
        },
        {
          "assignmentName": "Process Flow Analysis",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/24"
        },
        {
          "assignmentName": "Test #2 Ch’s 4, 5, 6",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/31"
        },
        {
          "assignmentName": "Lean Thinking",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/7"
        },
        {
          "assignmentName": "Managing Quality",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/14"
        },
        {
          "assignmentName": "Quality Control and Improvement",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/21"
        },
        {
          "assignmentName": "Project Prep",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/28"
        },
        {
          "assignmentName": "Project Presentations",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/5"
        },
        {
          "assignmentName": "Final Exam Ch’s 7, 8, 9",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/9"
        }
      ]
    },
    {
      "title": 'POM 446- Process Management',
      "professor": 'Brian Plummer; MBA, BSEE',
      "mode": 'In-Person',
      "grade": "N",
      "time": 'Mon & Wed 2:00 - 3:15',
      "gradingPolicy": {
        "Test 1": '20%',
        "Test 2": '20%',
        "Test 3": '20%',
        "Project": '20%',
        "Attendance": '20%',
      },
      "assignments": [
        {
          "assignmentName": "Introduction, Housekeeping items, Course Overview",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/7"
        },
        {
          "assignmentName": "The Operations Function, No Class 9/6, Labor Day",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/12"
        },
        {
          "assignmentName": "Operations & Supply Chain Strategy",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/19"
        },
        {
          "assignmentName": "Product Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/26"
        },
        {
          "assignmentName": "Test # 1 Ch’s 1, 2, 3",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/3"
        },
        {
          "assignmentName": "Process Selection",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/11"
        },
        {
          "assignmentName": "Service Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/17"
        },
        {
          "assignmentName": "Process Flow Analysis",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/24"
        },
        {
          "assignmentName": "Test #2 Ch’s 4, 5, 6",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/31"
        },
        {
          "assignmentName": "Lean Thinking",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/7"
        },
        {
          "assignmentName": "Managing Quality",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/14"
        },
        {
          "assignmentName": "Quality Control and Improvement",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/21"
        },
        {
          "assignmentName": "Project Prep",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/28"
        },
        {
          "assignmentName": "Project Presentations",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/5"
        },
        {
          "assignmentName": "Final Exam Ch’s 7, 8, 9",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/9"
        }
      ]
    }
    ,  {
      "title": 'POM 446- Process Management',
      "professor": 'Brian Plummer; MBA, BSEE',
      "mode": 'In-Person',
      "grade": "N",
      "time": 'Mon & Wed 2:00 - 3:15',
      "gradingPolicy": {
        "Test 1": '20%',
        "Test 2": '20%',
        "Test 3": '20%',
        "Project": '20%',
        "Attendance": '20%',
      },
      "assignments": [
        {
          "assignmentName": "Introduction, Housekeeping items, Course Overview",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/7"
        },
        {
          "assignmentName": "The Operations Function, No Class 9/6, Labor Day",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/12"
        },
        {
          "assignmentName": "Operations & Supply Chain Strategy",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/19"
        },
        {
          "assignmentName": "Product Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/26"
        },
        {
          "assignmentName": "Test # 1 Ch’s 1, 2, 3",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/3"
        },
        {
          "assignmentName": "Process Selection",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/11"
        },
        {
          "assignmentName": "Service Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/17"
        },
        {
          "assignmentName": "Process Flow Analysis",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/24"
        },
        {
          "assignmentName": "Test #2 Ch’s 4, 5, 6",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/31"
        },
        {
          "assignmentName": "Lean Thinking",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/7"
        },
        {
          "assignmentName": "Managing Quality",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/14"
        },
        {
          "assignmentName": "Quality Control and Improvement",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/21"
        },
        {
          "assignmentName": "Project Prep",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/28"
        },
        {
          "assignmentName": "Project Presentations",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/5"
        },
        {
          "assignmentName": "Final Exam Ch’s 7, 8, 9",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/9"
        }
      ]
    }
    ,  {
      "title": 'POM 446- Process Management',
      "professor": 'Brian Plummer; MBA, BSEE',
      "mode": 'In-Person',
      "grade": "N",
      "time": 'Mon & Wed 2:00 - 3:15',
      "gradingPolicy": {
        "Test 1": '20%',
        "Test 2": '20%',
        "Test 3": '20%',
        "Project": '20%',
        "Attendance": '20%',
      },
      "assignments": [
        {
          "assignmentName": "Introduction, Housekeeping items, Course Overview",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/7"
        },
        {
          "assignmentName": "The Operations Function, No Class 9/6, Labor Day",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/12"
        },
        {
          "assignmentName": "Operations & Supply Chain Strategy",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/19"
        },
        {
          "assignmentName": "Product Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "9/26"
        },
        {
          "assignmentName": "Test # 1 Ch’s 1, 2, 3",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/3"
        },
        {
          "assignmentName": "Process Selection",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/11"
        },
        {
          "assignmentName": "Service Design",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/17"
        },
        {
          "assignmentName": "Process Flow Analysis",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/24"
        },
        {
          "assignmentName": "Test #2 Ch’s 4, 5, 6",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "10/31"
        },
        {
          "assignmentName": "Lean Thinking",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/7"
        },
        {
          "assignmentName": "Managing Quality",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/14"
        },
        {
          "assignmentName": "Quality Control and Improvement",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/21"
        },
        {
          "assignmentName": "Project Prep",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "11/28"
        },
        {
          "assignmentName": "Project Presentations",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/5"
        },
        {
          "assignmentName": "Final Exam Ch’s 7, 8, 9",
          "percentageWeight": "N",
          "grade": "N",
          "deadline": "12/9"
        }
      ]
    }
  ];
}


function getGradesData() {
  // Retrieve the results from localStorage
  const gradesData = localStorage.getItem('gradesData');
  if (gradesData) {
    console.log('Data retrieved from localStorage:', JSON.parse(gradesData));
    // Perform operations with gradesData here
  } else {
    console.log('No grades data found in localStorage.');
  }
}

getGradesData();


function displayAssignments(assignments) {
  const tableBody = document.querySelector('.container table tbody');
  tableBody.innerHTML = '';

  if (Array.isArray(assignments)) {
    assignments.forEach(assignment => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${assignment.assignmentName}</td>
        <td>${assignment.percentageWeight}</td>
        <td>${assignment.grade}</td>
        <td>${assignment.deadline}</td>
      `;
      tableBody.appendChild(row);
    });
  }
}

document.addEventListener('DOMContentLoaded', () => {
  const cardsContainer = document.getElementById('cards');
  const modal = document.getElementById('gradeModal');
  const span = document.getElementsByClassName('close-button')[0];


  function openModal(data) {
    document.getElementById('modalTitle').innerText = data.title;
    document.getElementById('modalProfessor').innerText = data.professor;
    document.getElementById('modalMode').innerText = `${data.mode} `;

    document.getElementById('modalModeTime').innerText = `${data.time}`;

    const gradesDiv = document.getElementById('modalGrades');
    let gradingPolicyHtml = '<table class="grading-policy">';
    gradingPolicyHtml += '<tr><th>Grading Policy</th><th>Test Potential Grades</th></tr>';

    for (const [key, value] of Object.entries(data.gradingPolicy)) {
      gradingPolicyHtml += `<tr><td>${key}</td><td>${value}</td></tr>`;
    }

    gradingPolicyHtml += '</table>';
    gradesDiv.innerHTML = gradingPolicyHtml;

    modal.style.display = 'block';
    displayAssignments(data.assignments);
  }



  function formatPropertyName(propertyName) {
    return propertyName.charAt(0).toUpperCase() + propertyName.slice(1).replace(/([A-Z])/g, ' $1').replace(/[0-9]/g, ' $&').trim();
  }

  function closeModal() {
    modal.style.display = 'none';
  }

  span.onclick = function () {
    closeModal();
  };

  window.onclick = function (event) {
    if (event.target == modal) {
      closeModal();
    }
  };

  function clearActiveClasses() {
    const allCards = document.querySelectorAll('.card');
    allCards.forEach(card => card.classList.remove('active'));
  }

  function createCardElement(cardData, index) {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="card-content">
        <h3 class="card-title">${cardData.title}</h3>
        <p class="card-text">${cardData.professor}</p>
        <p class="card-text">${cardData.mode} </p>
        <p class="card-text">${cardData.time}</p>
      </div>
      <div class="card-grade">${cardData.grade}</div>
    `;

    // Add event listener to card to call openModal with the correct data and index
    card.addEventListener('click', () => openModal(cardData, index));
    return card;
  }

  function displayCards() {
    const cardsData = fetchCardsData();
    cardsData.forEach((cardData, index) => {
      const cardElement = createCardElement(cardData, index);
      cardsContainer.appendChild(cardElement);
    });
  }

  displayCards();
});